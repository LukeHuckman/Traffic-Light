	ORG	00H
	AJMP	MAIN

MAIN:	MOV	A,#00H
	MOV	P0,A

	; 06H = RED, #05H = YELLOW, 03H = GREEN
START:	MOV	A,#06H
	MOV	P0,A
	MOV	B,#03H
	MOV	P2,B
	ACALL	DELAY
	MOV	B,#05H
	MOV	P2,B
	ACALL	DELSH

	MOV	A,#03H
	MOV	P0,A
	MOV	B,#06H
	MOV	P2,B
	ACALL	DELAY
	MOV	A,#05H
	MOV	P0,A
	ACALL	DELSH
	AJMP	START

DELAY:	MOV	R1,#0FFH
DELAY1:	MOV	R2,#0FFH
DELAY2: MOV	R3,#030H
DELAY3:	DJNZ	R3,DELAY3
	DJNZ	R2,DELAY2
	DJNZ	R1,DELAY1
	RET

DELSH:	MOV	R1,#0FFH
DELSH1:	MOV	R2,#0FFH
DELSH2: MOV	R3,#010H
DELSH3:	DJNZ	R3,DELSH3
	DJNZ	R2,DELSH2
	DJNZ	R1,DELSH1
	RET

	END
