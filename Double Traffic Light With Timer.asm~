	ORG	00H
	AJMP	MAIN

MAIN:	MOV	A,#00H
	MOV	P0,A

	; 06H = RED, #05H = YELLOW, 03H = GREEN
START:	MOV	P1,#00H
	MOV	P3,#00H
	MOV	A,#06H
	MOV	P0,A
	ACALL	DELSH
	MOV	B,#03H
	MOV	P2,B
	ACALL	TIME
	MOV	B,#05H
	MOV	P2,B
	ACALL	DELSH

	MOV	P1,#00H
	MOV	P3,#00H
	MOV	B,#06H
	MOV	P2,B
	ACALL	DELSH
	MOV	A,#03H
	MOV	P0,A
	ACALL	TIME
	MOV	A,#05H
	MOV	P0,A
	ACALL	DELSH
	AJMP	START

TIME:	MOV	A,#03H
	MOV	P3,A
	MOV	B,#03FH
	MOV	P1,B
	ACALL	DELAY
	MOV	A,#00H
	MOV	P3,A
	MOV	B,#067H
	MOV	P1,B
	ACALL	DELAY
	MOV	B,#07FH
	MOV	P1,B
	ACALL	DELAY
	MOV	B,#07H
	MOV	P1,B
	ACALL	DELAY
	MOV	B,#07DH
	MOV	P1,B
	ACALL 	DELAY
	MOV	B,#06DH
	MOV	P1,B
	ACALL	DELAY
	MOV	B,#066H
	MOV	P1,B
	ACALL	DELAY
	MOV	B,#04FH
	MOV	P1,B
	ACALL	DELAY
	MOV	B,#05BH
	MOV	P1,B
	ACALL	DELAY
	MOV	B,#06H
	MOV	P1,B
	ACALL	DELAY
	MOV	B,#03FH
	MOV	P1,B
	RET

DELAY:	MOV	R1,#0FFH
DELAY1:	MOV	R2,#0F0H
DELAY2: MOV	R3,#06H
DELAY3:	DJNZ	R3,DELAY3
	DJNZ	R2,DELAY2
	DJNZ	R1,DELAY1
	RET

DELSH:	MOV	R1,#0FFH
DELSH1:	MOV	R2,#0FFH
DELSH2: MOV	R3,#010H
DELSH3:	DJNZ	R3,DELSH3
	DJNZ	R2,DELSH2
	DJNZ	R1,DELSH1
	RET

	END